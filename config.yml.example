##############################################################################
# Crypto Lake Configuration - Example
# Copy this to config.yml and adjust paths for your environment
##############################################################################

general:
  timezone: "UTC"
  log_level: "INFO"
  # Use relative path for portability, or absolute path for your system
  # Examples:
  #   "./data"                    - Relative (works anywhere)
  #   "D:/CryptoDataLake"         - Windows absolute
  #   "/home/user/crypto-lake"    - Linux absolute
  #   "/data"                     - Cloud/container mount
  base_path: "./data"

exchanges:
  - name: "binance"
    symbols:
      # Core Crypto Set (13 symbols)
      - SOLUSDT
      - SUIUSDT
      - ADAUSDT
      - BTCUSDT
      - ETHUSDT
      - BNBUSDT
      - XRPUSDT
      - DOGEUSDT
      - AVAXUSDT
      - LINKUSDT
      - LTCUSDT
      - DOTUSDT
      # FX
      - EURUSDT
    rest_url: "https://api.binance.com/api/v3"
    wss_url: "wss://stream.binance.com:9443/ws"

collector:
  write_interval_sec: 60
  reconnect_backoff: 10
  max_reconnect_backoff: 300      # Max backoff in seconds (5 min)
  reconnect_jitter: 0.5           # Random jitter factor (0-1)
  output_format: "jsonl"

transformer:
  resample_interval_sec: 1
  parquet_compression: "snappy"
  schedule_minutes: 60  # Run transformer every 60 minutes in orchestrate mode (0 to disable)

macro_minute:
  # Macro/FX tickers (1-minute data from yfinance)
  tickers:
    - SPY          # S&P 500 ETF
    - QQQ          # NASDAQ 100 ETF
    - IWM          # Russell 2000 ETF
    - UUP          # US Dollar Index Fund
    - ES=F         # E-mini S&P 500 Futures
    - GC=F         # Gold Futures
    - CL=F         # Crude Oil Futures
    - EURUSD=X     # EUR/USD
    - GBPUSD=X     # GBP/USD
    - USDJPY=X     # USD/JPY
    - USDCAD=X     # USD/CAD
    - USDCHF=X     # USD/CHF
  schedule_minutes: 15            # Fetch macro data every 15 minutes
  startup_backfill_days: 7        # One-time backfill on startup
  runtime_lookback_days: 1        # Fetch last 1 day on each scheduled run

qa:
  enable_ai: true
  hourly_window_min: 30
  daily_run_utc: "00:15"
  ai_labeler: "rules"

  iforest:
    n_estimators: 200
    contamination: 0.005
    random_state: 42

  zscore:
    window: 3600
    k: 5.0

  jump:
    k_sigma: 6.8
    spread_stable_bps: 50
    cooldown_seconds: 5
    min_trade_count: 5

  reporting:
    anomalies_top_n: 10

testing:
  enabled: false
  transform_interval_min: 2
  macro_interval_min: 1
  macro_transform_interval_min: 1
  macro_lookback_startup_days: 1
  macro_runtime_lookback_days: 1
  backfill_days: 3
  base_path: "./data/test"  # Isolated test directory

# API server configuration
api:
  enabled: false                    # Set to true or use --mode serve
  host: "127.0.0.1"                # Bind address (use 0.0.0.0 for network access)
  port: 8000
  cors_origins:
    - "http://localhost:3000"
    - "http://localhost:8080"
  ws_queue_size: 1000               # Per-subscriber event buffer

# Optional: SQL database configuration (uncomment to use)
# database:
#   url: "duckdb:///./crypto.duckdb"

# Google Cloud Storage (for cloud deployment)
gcs:
  bucket_name: ""  # e.g., "crypto-lake-data"

# Google Cloud Platform (for cloud deployment)
gcp:
  project_id: ""
  region: ""
